'scopeName': 'source.js'
'fileTypes': [
  'js'
  '_js'
  'es'
  'es6'
  'gs'
  'htc'
  'jscad'
  'jsm'
  'json5'
  'pac'
  'pjs'
  'xsjs'
  'xsjslib'
]
'firstLineMatch': '^#!.*\\b(node|iojs|JavaScript)'
'name': 'JavaScript'
'patterns': [
  {
    'comment': 'ES6 import'
    'begin': '(?<!\\.)\\b(import)(?!\\s*:)\\b'
    'beginCaptures':
      '1':
        'name': 'keyword.control.js'
    'patterns': [
      {
        'comment': '{ member1 , member2 as alias2 , [...] }'
        'begin': '\\{'
        'beginCaptures':
          0:
            'name': 'punctuation.definition.modules.begin.js'
        'end': '\\}'
        'endCaptures':
          0:
            'name': 'punctuation.definition.modules.end.js'
        'patterns': [
          {
            'comment': '(default|name) as alias'
            'captures':
              '1':
                'name': 'variable.language.default.js'
              '2':
                'name': 'variable.other.module.js'
              '3':
                'name': 'keyword.control.js'
              '4':
                'name': 'invalid.illegal.js'
              '5':
                'name': 'variable.other.module-alias.js'
            'match': '(?x)
              (?: \\b(default)\\b | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
              \\s*
              (\\b as \\b)
              \\s*
              (?: (\\b default \\b | \\*) | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
            '
          }
          {
            'match': ','
            'name': 'meta.delimiter.object.comma.js'
          }
          {
            'include': '#comments'
          }
          {
            'match': '\\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b'
            'name': 'variable.other.module.js'
          }
        ]
      }
      {
        'comment': '(default|*|name) as alias'
        'captures':
          '1':
            'name': 'variable.language.default.js'
          '2':
            'name': 'variable.language.import-all.js'
          '3':
            'name': 'variable.other.module.js'
          '4':
            'name': 'keyword.control.js'
          '5':
            'name': 'invalid.illegal.js'
          '6':
            'name': 'variable.other.module-alias.js'
        'match': '(?x)
          (?: \\b(default)\\b | (\\*) | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
          \\s*
          (\\b as \\b)
          \\s*
          (?: (\\b default \\b | \\*) | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
        '
      }
      {
        'match': '\\*'
        'name': 'variable.language.import-all.js'
      }
      {
        'match': '\\b(default)\\b'
        'name': 'variable.language.default.js'
      }
      {
        'include': '#strings'
      }
      {
        'include': '#comments'
      }
      {
        'match': '\\b(from)\\b'
        'name': 'keyword.control.js'
      }
      {
        'match': '\\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b(?=.*\\bfrom\\b)'
        'name': 'variable.other.module.js'
      }
      {
        'match': ','
        'name': 'meta.delimiter.object.comma.js'
      }
    ]
    'end': '(?=;|$)'
    'name': 'meta.import.js'
  }
  {
    'comment': 'ES6 export: `export default (variable|class|function, etc.)`'
    'match': '(?x) \\b(export)\\b \\s* \\b(default)\\b (?:\\s*) \\b((?!\\bfunction\\b|\\bclass\\b|\\blet\\b|\\bvar\\b|\\bconst\\b)[a-zA-Z_$][a-zA-Z_$0-9]*)?\\b'
    'captures':
      '0':
        'name': 'meta.export.js'
      '1':
        'name': 'keyword.control.js'
      '2':
        'name': 'variable.language.default.js'
      '3':
        'name': 'variable.other.module.js'
  }
  {
    'comment': 'ES6 export, re-export: `export {member as alias, [...]} [from ...]`'
    'begin': '(?<!\\.)\\b(export)(?!\\s*:)\\b'
    'beginCaptures':
      '1':
        'name': 'keyword.control.js'
    'patterns': [
      {
        'include': '#numbers'
      }
      {
        'comment': '`{ member1 , member2 as alias2 , [...] }` inside re-export'
        'begin': '\\{(?=.*\\bfrom\\b)'
        'beginCaptures':
          0:
            'name': 'punctuation.definition.modules.begin.js'
        'end': '\\}'
        'endCaptures':
          0:
            'name': 'punctuation.definition.modules.end.js'
        'patterns': [
          {
            'comment': '(default|name) as alias'
            'captures':
              '1':
                'name': 'variable.language.default.js'
              '2':
                'name': 'variable.other.module.js'
              '3':
                'name': 'keyword.control.js'
              '4':
                'name': 'variable.language.default.js'
              '5':
                'name': 'invalid.illegal.js'
              '6':
                'name': 'variable.other.module-alias.js'
            'match': '(?x)
              (?: \\b(default)\\b | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
              \\s*
              (\\b as \\b)
              \\s*
              (?: \\b(default)\\b | (\\*) | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
            '
          }
          {
            'match': ','
            'name': 'meta.delimiter.object.comma.js'
          }
          {
            'include': '#comments'
          }
          {
            'match': '\\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b'
            'name': 'variable.other.module.js'
          }
        ]
      }
      {
        'comment': '{ member1 , member2 as alias2 , [...] }'
        'begin': '(?![a-zA-Z_$0-9])\\{'
        'beginCaptures':
          0:
            'name': 'punctuation.definition.modules.begin.js'
        'end': '\\}'
        'endCaptures':
          0:
            'name': 'punctuation.definition.modules.end.js'
        'patterns': [
          {
            'comment': 'name as (default|alias)'
            'captures':
              '1':
                'name': 'invalid.illegal.js'
              '2':
                'name': 'variable.other.module.js'
              '3':
                'name': 'keyword.control.js'
              '4':
                'name': 'variable.language.default.js'
              '5':
                'name': 'invalid.illegal.js'
              '6':
                'name': 'variable.other.module-alias.js'
            'match': '(?x)
              (?: \\b(default)\\b | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
              \\s*
              (\\b as \\b)
              \\s*
              (?: \\b(default)\\b | (\\*) | \\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b)
            '
          }
          {
            'include': '#comments'
          }
          {
            'match': ','
            'name': 'meta.delimiter.object.comma.js'
          }
          {
            'match': '\\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b'
            'name': 'variable.other.module.js'
          }
        ]
      }
      {
        'match': '\\*(?=.*\\bfrom\\b)'
        'name': 'variable.language.import-all.js'
      }
      {
        'match': '\\b(default)\\b'
        'name': 'variable.language.default.js'
      }
      {
        'include': '#strings'
      }
      {
        'include': '#comments'
      }
      {
        'match': '\\b(from)\\b'
        'name': 'keyword.control.js'
      }
      {
        'match': '\\b([a-zA-Z_$][a-zA-Z_$0-9]*)\\b'
        'name': 'variable.other.module.js'
      }
      {
        'match': ','
        'name': 'meta.delimiter.object.comma.js'
      }
      {
        'include': '#operators'
      }
    ]
    'end': '(?=;|\\bfunction\\b|\\bclass\\b|\\blet\\b|\\bvar\\b|\\bconst\\b|$)'
    'name': 'meta.export.js'
  }
  {
    'match': '(?<!\\.)\\b(super|this)(?!\\s*:)\\b|(?<=\\?)(?:\\s*)(super|this)(?=\\s*:)'
    'captures':
      '1':
        'name': 'variable.language.js'
      '2':
        'name': 'variable.language.js'
  }
  {
    'captures':
      '1':
        'name': 'support.class.js'
      '2':
        'name': 'support.constant.js'
      '3':
        'name': 'keyword.operator.assignment.js'
    'comment': 'match stuff like: Sound.prototype = { … } when extending an object'
    'match': '([a-zA-Z_?.$][\\w?.$]*)\\.(prototype)\\s*(=)\\s*'
    'name': 'meta.class.js'
  }
  {
    'begin': '([a-zA-Z_?.$][\\w?.$]*)\\.(prototype)\\.([a-zA-Z_?.$][\\w?.$]*)\\s*(=)\\s*(?:(async)(?:\\s+))?(function\\*?)\\s*(\\*?)(\\()'
    'beginCaptures':
      '1':
        'name': 'support.class.js'
      '2':
        'name': 'support.constant.js'
      '3':
        'name': 'entity.name.function.js'
      '4':
        'name': 'keyword.operator.assignment.js'
      '5':
        'name': 'storage.modifier.js'
      '6':
        'name': 'storage.type.function.js'
      '7':
        'name': 'storage.type.function.js'
      '8':
        'name': 'punctuation.definition.parameters.begin.js'
    'comment': 'match stuff like: Sound.prototype.play = function() { … }'
    'end': '(\\))'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
    'name': 'meta.function.prototype.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'captures':
      '1':
        'name': 'support.class.js'
      '2':
        'name': 'support.constant.js'
      '3':
        'name': 'entity.name.function.js'
      '4':
        'name': 'keyword.operator.assignment.js'
    'comment': 'match stuff like: Sound.prototype.play = myfunc'
    'match': '([a-zA-Z_?.$][\\w?.$]*)\\.(prototype)\\.([a-zA-Z_?.$][\\w?.$]*)\\s*(=)\\s*'
    'name': 'meta.function.js'
  }
  {
    'begin': '([a-zA-Z_?.$][\\w?.$]*)\\.([a-zA-Z_?.$][\\w?.$]*)\\s*(=)\\s*(?:(async)(?:\\s+))?(function\\*?)\\s*(\\*?)\\s*([a-zA-Z_?$][\\w?$]*)?\\s*(\\()'
    'beginCaptures':
      '1':
        'name': 'support.class.js'
      '2':
        'name': 'entity.name.function.js'
      '3':
        'name': 'keyword.operator.assignment.js'
      '4':
        'name': 'storage.modifier.js'
      '5':
        'name': 'storage.type.function.js'
      '6':
        'name': 'storage.type.function.js'
      '7':
        'name': 'entity.name.function.js'
      '8':
        'name': 'punctuation.definition.parameters.begin.js'
    'comment': 'match stuff like: Sound.play = function() { … }'
    'end': '(\\))'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
    'name': 'meta.function.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'begin': '([a-zA-Z_?$][\\w?$]*)\\s*(=)\\s*(?:(async)(?:\\s+))?(function\\*?)\\s*(\\*?)\\s*([a-zA-Z_?$][\\w?$]*)?\\s*(\\()'
    'beginCaptures':
      '1':
        'name': 'entity.name.function.js'
      '2':
        'name': 'keyword.operator.assignment.js'
      '3':
        'name': 'storage.modifier.js'
      '4':
        'name': 'storage.type.function.js'
      '5':
        'name': 'storage.type.function.js'
      '6':
        'name': 'entity.name.function.js'
      '7':
        'name': 'punctuation.definition.parameters.begin.js'
    'comment': 'match stuff like: play = function() { … }'
    'end': '(\\))'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
    'name': 'meta.function.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'begin': '\\b(?:(async)(?:\\s+))?(function\\*?)\\s*((\\*)|(?:(?:\\s+)(\\*?[a-zA-Z_$][\\w$]*)))?\\s*(\\()'
    'beginCaptures':
      '1':
        'name': 'storage.modifier.js'
      '2':
        'name': 'storage.type.function.js'
      '4':
        'name': 'storage.type.function.js'
      '5':
        'name': 'entity.name.function.js'
      '6':
        'name': 'punctuation.definition.parameters.begin.js'
    'comment': 'match regular function like: function myFunc(arg) { … }'
    'end': '(\\))'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
    'name': 'meta.function.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'begin': '\\b([a-zA-Z_?.$][\\w?.$]*)\\s*(:)\\s*\\b(?:(async)(?:\\s+))?(function\\*?)\\s*(\\*?)\\s*([a-zA-Z_?$][\\w?$]*)?\\s*(\\()'
    'beginCaptures':
      '1':
        'name': 'entity.name.function.js'
      '2':
        'name': 'keyword.operator.assignment.js'
      '3':
        'name': 'storage.modifier.js'
      '4':
        'name': 'storage.type.function.js'
      '5':
        'name': 'storage.type.function.js'
      '6':
        'name': 'entity.name.function.js'
      '7':
        'name': 'punctuation.definition.parameters.begin.js'
    'comment': 'match stuff like: foobar: function() { … }'
    'end': '(\\))'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
    'name': 'meta.function.json.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'begin': '(?:((\')([^\']*?)(\'))|((")([^"]*?)(")))\\s*(:)\\s*\\b(?:(async)(?:\\s+))?(function\\*?)\\s*(\\*?)\\s*([a-zA-Z_?$][\\w?$]*)?\\s*(\\()'
    'beginCaptures':
      '1':
        'name': 'string.quoted.single.js'
      '2':
        'name': 'punctuation.definition.string.begin.js'
      '3':
        'name': 'entity.name.function.js'
      '4':
        'name': 'punctuation.definition.string.end.js'
      '5':
        'name': 'string.quoted.double.js'
      '6':
        'name': 'punctuation.definition.string.begin.js'
      '7':
        'name': 'entity.name.function.js'
      '8':
        'name': 'punctuation.definition.string.end.js'
      '9':
        'name': 'keyword.operator.assignment.js'
      '10':
        'name': 'storage.modifier.js'
      '11':
        'name': 'storage.type.function.js'
      '12':
        'name': 'storage.type.function.js'
      '13':
        'name': 'entity.name.function.js'
      '14':
        'name': 'punctuation.definition.parameters.begin.js'
    'comment': 'Attempt to match "foo": function'
    'end': '(\\))'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
    'name': 'meta.function.json.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'begin': '\\b(constructor)\\s*(\\()'
    'beginCaptures':
      '1':
        'name': 'entity.name.function.constructor.js'
      '2':
        'name': 'punctuation.definition.parameters.begin.js'
    'end': '(\\))'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'include': '#methods'
  }
  {
    'match': '''(?x)
      \\b(class)
      (?:
        (?:\\s+(extends)\\s+([a-zA-Z_$][\\w$]*))
        |
        (?:
          (?:\\s+([a-zA-Z_$][\\w$]*))
          (?:\\s+(extends)\\s+([a-zA-Z_$][\\w$]*))?
        )
      )
    '''
    'captures':
      '1':
        'name': 'storage.type.class.js'
      '2':
        'name': 'storage.modifier.js'
      '3':
        'name': 'entity.name.type.js'
      '4':
        'name': 'entity.name.type.js'
      '5':
        'name': 'storage.modifier.js'
      '6':
        'name': 'entity.name.type.js'
    'name': 'meta.class.js'
  }
  {
    'name': 'meta.function.arrow.js'
    'begin': '(?<![A-Za-z0-9])(\\()(?=(?:[^\\(\\)]*)?\\)\\s*=>)'
    'beginCaptures':
      '1':
        'name': 'punctuation.definition.parameters.begin.js'
    'end': '(\\))\\s*(=>)'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
      '2':
        'name': 'storage.type.arrow.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'comment': 'match stuff like: play = (a,b) => { … }'
    'name': 'meta.function.arrow.js'
    'begin': '([a-zA-Z_?$][\\w?$]*)\\s*(=)\\s*(\\()(?=(?:[^\\(\\)]*)?\\)\\s*=>)'
    'beginCaptures':
      '1':
        'name': 'entity.name.function.js'
      '2':
        'name': 'keyword.operator.assignment.js'
      '3':
        'name': 'punctuation.definition.parameters.begin.js'
    'end': '(\\))\\s*(=>)'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
      '2':
        'name': 'storage.type.arrow.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'comment': 'match stuff like: Sound.play = (a,b) => { … }'
    'name': 'meta.function.arrow.js'
    'begin': '([a-zA-Z_?$]*)\\.([a-zA-Z_?$][\\w?$]*)\\s*(=)\\s*(\\()(?=(?:[^\\(\\)]*)?\\)\\s*=>)'
    'beginCaptures':
      '1':
        'name': 'support.class.js'
      '2':
        'name': 'entity.name.function.js'
      '3':
        'name': 'keyword.operator.assignment.js'
      '4':
        'name': 'punctuation.definition.parameters.begin.js'
    'end': '(\\))\\s*(=>)'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.parameters.end.js'
      '2':
        'name': 'storage.type.arrow.js'
    'patterns': [
      {
        'include': '#function-params'
      }
    ]
  }
  {
    'captures':
      '1':
        'name': 'keyword.operator.new.js'
      '2':
        'name': 'entity.name.type.instance.js'
    'match': '(new)\\s+(\\$?\\w+(?:\\.\\w*)?)'
    'name': 'meta.class.instance.constructor'
  }
  {
    'match': '\\b(console)\\b'
    'name': 'entity.name.type.object.js.console'
  }
  {
    'match': '\\b(\\.)(assert|clear|debug|error|info|log|profile|profileEnd|time|timeEnd|warn)(?=\\()'
    'captures':
      '1':
        'name': 'meta.delimiter.method.period.js'
      '2':
        'name': 'support.function.js.console'
  }
  {
    'include': '#strings'
  }
  {
    'include': '#comments'
  }
  {
    'captures':
      '0':
        'name': 'punctuation.definition.comment.html.js'
      '2':
        'name': 'punctuation.definition.comment.html.js'
    'match': '(<!--|-->)'
    'name': 'comment.block.html.js'
  }
  {
    'match': '=>',
    'name': 'storage.type.arrow.js'
  }
  {
    'match': '(?<!\\.)\\b(class|enum|function|interface)(?!\\s*:)\\b'
    'name': 'storage.type.js'
  }
  {
    'match': '(?<!\\.)\\b(async|export|extends|implements|private|protected|public|static)(?!\\s*:)\\b'
    'name': 'storage.modifier.js'
  }
  {
    'match': '(?<!\\.)\\b(let|var)(?!\\s*:)\\b'
    'name': 'storage.type.var.js'
  }
  {
    'begin': '(?<!\\.)\\b(const)(?!\\s*:)\\b'
    'beginCaptures':
      '1':
        'name': 'storage.modifier.js'
    'end': '(\\bof\\b|\\bin\\b)|(;)|(=)|(?<!,)\\n'
    'endCaptures':
      '1':
        'name': 'keyword.operator.$1.js'
      '2':
        'name': 'punctuation.terminator.statement.js'
      '3':
        'name': 'keyword.operator.assignment.js'
    'patterns': [
      {
        'match': '([$_a-zA-Z][$_a-zA-Z0-9]*)\\s*(:)\\s*([$_a-zA-Z][$_a-zA-Z0-9]*)?'
        'captures':
          '2':
            'name': 'keyword.operator.assignment.js'
          '3':
            'name': 'constant.other.js'
      }
      {
        'match': '([$_a-zA-Z][$_a-zA-Z0-9]*)'
        'captures':
          '1':
            'name': 'constant.other.js'
      }
      {
        'match': '\\.\\.\\.'
        'name': 'keyword.operator.spread.js'
      }
      {
        'match': ','
        'name': 'meta.delimiter.object.comma.js'
      }
      {
        'match': '\\(|\\)'
        'name': 'meta.brace.round.js'
      }
      {
        'match': '{|}'
        'name': 'meta.brace.curly.js'
      }
      {
        'match': '\\[|\\]'
        'name': 'meta.brace.square.js'
      }
      {
        'include': '#comments'
      }
    ]
  }
  {
    'match': '(?<!\\.)\\b(yield)(?!\\s*:)\\b(?:\\s*(\\*))?|(?<=\\?)(?:\\s*)(yield)(?=\\s*:)',
    'captures':
      '1':
        'name': 'keyword.control.js'
      '2':
        'name': 'storage.modifier.js'
      '3':
        'name': 'keyword.control.js'
      '4':
        'name': 'storage.modifier.js'
    'name': 'meta.control.yield.js'
  }
  {
    'match': '(?<!\\.)\\b(await|break|case|catch|continue|do|else|finally|for|if|import|from|package|return|switch|throw|try|while|with)(?!\\s*:)\\b'
    'name': 'keyword.control.js'
  }
  {
    'match': '(?<!\\.)\\b(default)\\b'
    'name': 'keyword.control.js'
  }
  {
    'match': '(?<!\\.)\\b(delete|in|of|instanceof|new|typeof|void)(?!\\s*:)\\b'
    'name': 'keyword.operator.$1.js'
  }
  {
    'match': '\\.\\.\\.'
    'name': 'keyword.operator.spread.js'
  }
  {
    'match': '(?<!\\.)\\b(true|false)(?!\\s*:)\\b|(?<=\\?)(?:\\s*)(true|false)(?=\\s*:)'
    'captures':
      '1':
        'name': 'constant.language.boolean.$1.js'
      '2':
        'name': 'constant.language.boolean.$2.js'
  }
  {
    'match': '(?<!\\.)\\b(null)(?!\\s*:)\\b|(?<=\\?)(?:\\s*)(null)(?=\\s*:)'
    'captures':
      '1':
        'name': 'constant.language.null.js'
      '2':
        'name': 'constant.language.null.js'
  }
  {
    'match': '(?<!\\.)\\b([A-Z][A-Z0-9_]+)(?!\\s*:)\\b|(?<=\\?)(?:\\s*)([A-Z][A-Z0-9_]+)(?=\\s*:)'
    'captures':
      '1':
        'name': 'constant.other.js'
      '2':
        'name': 'constant.other.js'
  }
  {
    'match': '(?<!\\.)\\b(debugger)(?!\\s*:)\\b|(?<=\\?)(?:\\s*)(debugger)(?=\\s*:)'
    'captures':
      '1':
        'name': 'keyword.other.js'
      '2':
        'name': 'keyword.other.js'
  }
  {
    'match': '(?<!\\$)\\b(Anchor|Applet|Area|Array|Boolean|Button|Checkbox|Date|document|event|FileUpload|Form|Frame|Function|Hidden|History|Image|JavaArray|JavaClass|JavaObject|JavaPackage|java|Layer|Link|Location|Map|Math|MimeType|Number|navigator|netscape|Object|Option|Packages|Password|Plugin|Radio|RegExp|Reset|Select|Set|String|Style|Submit|Symbol|screen|sun|Text|Textarea|WeakMap|WeakSet|window|XMLHttpRequest)\\b'
    'name': 'support.class.js'
  }
  {
    'match': '(\\.)?(shift|showModelessDialog|showModalDialog|showHelp|scroll|scrollX|scrollByPages|scrollByLines|scrollY|scrollTo|stop|strike|sin|sizeToContent|sidebar|signText|sort|sup|sub|substr|substring|splice|split|send|set(Milliseconds|Seconds|Minutes|Hours|Month|Year|FullYear|Date|UTC(Milliseconds|Seconds|Minutes|Hours|Month|FullYear|Date)|Time|Hotkeys|Cursor|Timeout|Interval|ZOptions|Active|Resizable|RequestHeader)|search|sqrt|slice|savePreferences|small|home|handleEvent|navigate|char|charCodeAt|charAt|cos|concat|contextual|confirm|compile|ceil|clear|clearTimeout|clearInterval|captureEvents|call|createStyleSheet|createPopup|createEventObject|to(GMTString|UTCString|String|Source|UpperCase|LowerCase|LocaleString)|test|tan|taint|taintEnabled|isNaN|isFinite|indexOf|italics|disableExternalCapture|dump|detachEvent|unshift|untaint|unescape|unwatch|updateCommands|join|javaEnabled|pop|pow|push|plugins.refresh|paddings|parse|parseInt|parseFloat|print|prompt|preference|escape|enableExternalCapture|eval|elementFromPoint|exp|exec|execScript|execCommand|valueOf|UTC|queryCommandState|queryCommandIndeterm|queryCommandEnabled|queryCommandValue|find|file|fileModifiedDate|fileSize|fileCreatedDate|fileUpdatedDate|fixed|fontsize|fontcolor|forward|floor|fromCharCode|watch|link|load|log|lastIndexOf|asin|anchor|acos|attachEvent|atob|atan|atan2|apply|alert|abs|abort|round|routeEvents|resize|resizeBy|resizeTo|recalc|returnValue|replace|reverse|reload|releaseCapture|releaseEvents|random|go|get(Milliseconds|Seconds|Minutes|Hours|Month|Day|Year|FullYear|Time|Date|TimezoneOffset|UTC(Milliseconds|Seconds|Minutes|Hours|Day|Month|FullYear|Date)|Attention|Selection|ResponseHeader|AllResponseHeaders)|min|moveBy|moveBelow|moveTo|moveToAbsolute|moveAbove|mergeAttributes|match|margins|max|btoa|big|bold|borderWidths|blink|back)\\b(?=\\()'
    'captures':
      '1':
        'name': 'meta.delimiter.method.period.js'
      '2':
        'name': 'support.function.js'
  }
  {
    'match': '(\\.)(substringData|submit|splitText|setNamedItem|setAttribute|setAttributeNode|select|hasChildNodes|hasFeature|namedItem|click|close|cloneNode|createComment|createCDATASection|createCaption|createTHead|createTextNode|createTFoot|createDocumentFragment|createProcessingInstruction|createEntityReference|createElement|createAttribute|tabIndex|insertRow|insertBefore|insertCell|insertData|item|open|deleteRow|deleteCell|deleteCaption|deleteTHead|deleteTFoot|deleteData|focus|write|writeln|add|appendChild|appendData|reset|replaceChild|replaceData|move|moveNamedItem|moveChild|moveAttribute|moveAttributeNode|getNamedItem|getElementsByName|getElementsByTagName|getElementById|getAttribute|getAttributeNode|blur)\\b(?=\\\()'
    'captures':
      '1':
        'name': 'meta.delimiter.method.period.js'
      '2':
        'name': 'support.function.dom.js'
  }
  {
    'match': '(\\.)(systemLanguage|scripts|scrollbars|screenX|screenY|screenTop|screenLeft|style|styleSheets|status|statusText|statusbar|siblingBelow|siblingAbove|source|suffixes|security|securityPolicy|selection|self|history|host|hostname|hash|hasFocus|XMLDocument|XSLDocument|next|namespaces|namespaceURI|nameProp|MIN_VALUE|MAX_VALUE|characterSet|constructor|controllers|cookieEnabled|colorDepth|components|complete|current|cpuClass|clip|clipBoardData|clientInformation|closed|classes|callee|caller|crypto|toolbar|top|textTransform|textIndent|textDecoration|textAlign|tags|SQRT1_2|SQRT2|innerHeight|innerWidth|input|ids|ignoreCase|zIndex|oscpu|onreadystatechange|onLine|outerHeight|outerWidth|opsProfile|opener|offscreenBuffering|NEGATIVE_INFINITY|display|dialogHeight|dialogTop|dialogWidth|dialogLeft|dialogArguments|directories|description|defaultStatus|defaultChecked|defaultCharset|defaultView|userProfile|userLanguage|userAgent|uniqueID|undefined|updateInterval|_content|pixelDepth|port|personalbar|pkcs11|plugins|platform|pathname|paddingRight|paddingBottom|paddingTop|paddingLeft|parent|parentWindow|parentLayer|pageX|pageXOffset|pageY|pageYOffset|protocol|prototype|product|productSub|prompter|previous|prefix|encoding|enabledPlugin|external|expando|embeds|visiblity|vendor|vendorSub|vLinkcolor|URLUnencoded|PI|POSITIVE_INFINITY|filename|fontSize|fontFamily|fontWeight|formName|frames|frameElement|fgColor|E|whiteSpace|listStyleType|lineHeight|linkColor|location|locationbar|localName|lowsrc|length|left|leftContext|lastModified|lastMatch|lastIndex|lastParen|layers|layerX|language|appMinorVersion|appName|appCodeName|appCore|appVersion|availHeight|availTop|availWidth|availLeft|all|arity|arguments|aLinkcolor|above|right|rightContext|responseXML|responeText|readyState|global|x|y|z|mimeTypes|multiline|menubar|marginRight|marginBottom|marginTop|marginLeft|LN10|LN2|LOG10E|LOG2E|bottom|border(Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth)|bufferDepth|below|backgroundColor|backgroundImage)\\b'
    'captures':
      '1':
        'name': 'meta.delimiter.property.period.js'
      '2':
        'name': 'support.constant.js'
  }
  {
    'match': '(\\.)(shape|systemId|scheme|scope|scrolling|standby|start|size|summary|specified|sectionRowIndex|selected|selectedIndex|hspace|httpEquiv|htmlFor|height|headers|href|hreflang|noResize|notations|notationName|noShade|noHref|nodeName|nodeType|nodeValue|noWrap|nextSibling|name|ch|childNodes|chOff|checked|charset|cite|content|cookie|cords|code|codeBase|codeType|cols|colSpan|color|compact|cells|cellSpacing|cellPadding|clear|className|caption|type|tBodies|title|tHead|text|target|tagName|tFoot|isMap|index|id|implementation|images|options|ownerDocument|object|disabled|dir|doctype|documentElement|docmain|declare|defer|defaultSelected|defaultChecked|defaultValue|dateTime|data|useMap|publicId|parentNode|profile|profileend|prompt|previousDibling|enctype|entities|event|elements|vspace|version|value|valueType|vLink|vAlign|URL|firstChild|form|forms|face|frame|frameBorder|width|link|links|longDesc|lowSrc|lastChild|lang|label|anchors|accessKey|accept|acceptCharset|action|attributes|applets|alt|align|archive|areas|axis|aLink|abbr|rows|rowSpan|rowIndex|rules|rev|referrer|rel|readOnly|multiple|method|media|marginHeight|marginWidth|maxLength|body|border|background|bgColor)\\b'
    'captures':
      '1':
        'name': 'meta.delimiter.property.period.js'
      '2':
        'name': 'support.constant.dom.js'
  }
  {
    'match': '\\b(ELEMENT_NODE|ATTRIBUTE_NODE|TEXT_NODE|CDATA_SECTION_NODE|ENTITY_REFERENCE_NODE|ENTITY_NODE|PROCESSING_INSTRUCTION_NODE|COMMENT_NODE|DOCUMENT_NODE|DOCUMENT_TYPE_NODE|DOCUMENT_FRAGMENT_NODE|NOTATION_NODE|INDEX_SIZE_ERR|DOMSTRING_SIZE_ERR|HIERARCHY_REQUEST_ERR|WRONG_DOCUMENT_ERR|INVALID_CHARACTER_ERR|NO_DATA_ALLOWED_ERR|NO_MODIFICATION_ALLOWED_ERR|NOT_FOUND_ERR|NOT_SUPPORTED_ERR|INUSE_ATTRIBUTE_ERR)\\b'
    'name': 'support.constant.dom.js'
  }
  {
    'match': '\\bon(Rowsinserted|Rowsdelete|Rowenter|Rowexit|Resize|Resizestart|Resizeend|Reset|Readystatechange|Mouseout|Mouseover|Mousedown|Mouseup|Mousemove|Before(cut|deactivate|unload|update|paste|print|editfocus|activate)|Blur|Scrolltop|Submit|Select|Selectstart|Selectionchange|Hover|Help|Change|Contextmenu|Controlselect|Cut|Cellchange|Clock|Close|Deactivate|Datasetchanged|Datasetcomplete|Dataavailable|Drop|Drag|Dragstart|Dragover|Dragdrop|Dragenter|Dragend|Dragleave|Dblclick|Unload|Paste|Propertychange|Error|Errorupdate|Keydown|Keyup|Keypress|Focus|Load|Activate|Afterupdate|Afterprint|Abort)\\b'
    'name': 'support.function.event-handler.js'
  }
  {
    'match': '(?<!\\.)\\b(require)(?!\\s*:)\\b'
    'name': 'support.function.js'
  }
  {
    'match': '(?<!\\.)\\b(module|exports|__filename|__dirname|global|process)(?!\\s*:)\\b|(?<=\\?)(?:\\s*)(module|exports|__filename|__dirname|global|process)(?=\\s*:)'
    'captures':
      '1':
        'name': 'support.variable.js'
      '2':
        'name': 'support.variable.js'
  }
  {
    'match': '\\b(Infinity|NaN|undefined)\\b'
    'name': 'constant.language.js'
  }
  {
    'begin': '(?<=[\\[=(?:+,!]|^|return|&&|\\|\\|)\\s*(/)(?![/*+{}?])(?=.*/)'
    'beginCaptures':
      '1':
        'name': 'punctuation.definition.string.begin.js'
    'end': '(/)[gimuy]*'
    'endCaptures':
      '1':
        'name': 'punctuation.definition.string.end.js'
    'name': 'string.regexp.js'
    'patterns': [
      {
        'include': 'source.js.regexp'
      }
    ]
  }
  {
    'include': '#operators'
  }
  {
    'include': '#method_call'
  }
  {
    'include': '#function_call'
  }
  {
    'include': '#numbers'
  }
  {
    'include': '#object_variable'
  }
  {
    'include': '#properties'
  }
  {
    'match': '(?<!\\$)\\b[0-9]+[\\w$]*'
    'name': 'invalid.illegal.identifier.js'
  }
  {
    'match': '\\;'
    'name': 'punctuation.terminator.statement.js'
  }
  {
    'match': ','
    'name': 'meta.delimiter.object.comma.js'
  }
  {
    'match': '\\.'
    'name': 'meta.delimiter.method.period.js'
  }
  {
    'captures':
      '1':
        'name': 'punctuation.section.scope.begin.js'
      '2':
        'name': 'punctuation.section.scope.end.js'
    'comment': 'Allows the special return snippet to fire.'
    'match': '({)(})'
  }
  {
    'match': '{|}'
    'name': 'meta.brace.curly.js'
  }
  {
    'begin': '\\('
    'beginCaptures':
      '0':
        'name': 'meta.brace.round.js'
    'end': '\\)'
    'endCaptures':
      '0':
        'name': 'meta.brace.round.js'
    'patterns': [
      'include': '$self'
    ]
  }
  {
    'match': '\\[|\\]'
    'name': 'meta.brace.square.js'
  }
  {
    'match': '\\A#!.*$'
    'name': 'comment.line.shebang.js'
  }
]
'repository':
  'numbers':
    'patterns': [
      {
        'match': '\\b(?<!\\$)0(x|X)[0-9a-fA-F]+\\b(?!\\$)'
        'name': 'constant.numeric.hex.js'
      }
      {
        'match': '\\b(?<!\\$)0(b|B)[01]+\\b(?!\\$)'
        'name': 'constant.numeric.binary.js'
      }
      {
        'match': '\\b(?<!\\$)0(o|O)?[0-7]+\\b(?!\\$)'
        'name': 'constant.numeric.octal.js'
      }
      {
        'match': '''(?x)
          (?<!\\$)(?:
            (?:\\b[0-9]+(\\.)[0-9]+[eE][+-]?[0-9]+\\b)| # 1.1E+3
            (?:\\b[0-9]+(\\.)[eE][+-]?[0-9]+\\b)|       # 1.E+3
            (?:\\B(\\.)[0-9]+[eE][+-]?[0-9]+\\b)|       # .1E+3
            (?:\\b[0-9]+[eE][+-]?[0-9]+\\b)|            # 1E+3
            (?:\\b[0-9]+(\\.)[0-9]+\\b)|                # 1.1
            (?:\\b[0-9]+(\\.)\\B)|                      # 1.
            (?:\\B(\\.)[0-9]+\\b)|                      # .1
            (?:\\b[0-9]+\\b(?!\\.))                     # 1
          )(?!\\$)
        '''
        'captures':
          '0':
            'name': 'constant.numeric.decimal.js'
          '1':
            'name': 'meta.delimiter.decimal.period.js'
          '2':
            'name': 'meta.delimiter.decimal.period.js'
          '3':
            'name': 'meta.delimiter.decimal.period.js'
          '4':
            'name': 'meta.delimiter.decimal.period.js'
          '5':
            'name': 'meta.delimiter.decimal.period.js'
          '6':
            'name': 'meta.delimiter.decimal.period.js'
      }
    ]
  'operators':
    'patterns': [
      {
        'match': '%=|\\+=|-=|\\*=|(?<!\\()/='
        'name': 'keyword.operator.assignment.compound.js'
      }
      {
        'match': '&=|\\^=|<<=|>>=|>>>=|\\|='
        'name': 'keyword.operator.assignment.compound.bitwise.js'
      }
      {
        'match': '!==|!=|<=|>=|===|==|<|>'
        'name': 'keyword.operator.comparison.js'
      }
      {
        'match': '&&|!|\\|\\|'
        'name': 'keyword.operator.logical.js'
      }
      {
        'match': '&|\\||\\^|~'
        'name': 'keyword.operator.bitwise.js'
      }
      {
        'match': '\\?|:'
        'name': 'keyword.operator.js'
      }
      {
        'match': '='
        'name': 'keyword.operator.assignment.js'
      }
      {
        'match': '--'
        'name': 'keyword.operator.decrement.js'
      }
      {
        'match': '\\+\\+'
        'name': 'keyword.operator.increment.js'
      }
      {
        'match': '%|\\*|/|-|\\+'
        'name': 'keyword.operator.js'
      }
    ]
  'strings':
    'patterns': [
      {
        'begin': '\''
        'beginCaptures':
          '0':
            'name': 'punctuation.definition.string.begin.js'
        'end': '\''
        'endCaptures':
          '0':
            'name': 'punctuation.definition.string.end.js'
        'name': 'string.quoted.single.js'
        'patterns': [
          {
            'match': '\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)'
            'name': 'constant.character.escape.js'
          }
          {
            'match': "[^']*[^\\n\\r'\\\\]$"
            'name': 'invalid.illegal.string.js'
          }
        ]
      }
      {
        'begin': '"'
        'beginCaptures':
          '0':
            'name': 'punctuation.definition.string.begin.js'
        'end': '"'
        'endCaptures':
          '0':
            'name': 'punctuation.definition.string.end.js'
        'name': 'string.quoted.double.js'
        'patterns': [
          {
            'match': '\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]|37[0-7]?|[4-7][0-7]?|.)'
            'name': 'constant.character.escape.js'
          }
          {
            'match': '[^"]*[^\\n\\r"\\\\]$'
            'name': 'invalid.illegal.string.js'
          }
        ]
      }
      {
        'begin': '((\\w+)?(html|HTML|Html))\\s*(`)'
        'beginCaptures':
          '1':
            'name': 'entity.name.function.js'
          '4':
            'name': 'punctuation.definition.string.begin.js'
        'end': '`'
        'endCaptures':
          '0':
            'name': 'punctuation.definition.string.end.js'
        'name': 'string.quoted.template.html.js'
        'patterns': [
          {
            'match': '\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)'
            'name': 'constant.character.escape.js'
          }
          {
            'include': '#interpolated_js'
          }
          {
            'include': 'text.html.basic'
          }
        ]
      }
      {
        'begin': '((\\w+)?(css|CSS|Css))\\s*(`)'
        'beginCaptures':
          '1':
            'name': 'entity.name.function.js'
          '4':
            'name': 'punctuation.definition.string.begin.js'
        'end': '`'
        'endCaptures':
          '0':
            'name': 'punctuation.definition.string.end.js'
        'name': 'string.quoted.template.css.js'
        'patterns': [
          {
            'match': '\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)'
            'name': 'constant.character.escape.js'
          }
          {
            'include': '#interpolated_js'
          }
          {
            'include': 'source.css'
          }
        ]
      }
      {
        'begin': '`'
        'beginCaptures':
          '0':
            'name': 'punctuation.definition.string.begin.js'
        'end': '`'
        'endCaptures':
          '0':
            'name': 'punctuation.definition.string.end.js'
        'name': 'string.quoted.template.js'
        'patterns': [
          {
            'match': '\\\\(x\\h{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)'
            'name': 'constant.character.escape.js'
          }
          {
            'include': '#interpolated_js'
          }
        ]
      }
    ]
  'methods':
    'patterns': [
      {
        'name': 'meta.method.js'
        'comment': 'match regular function like: function myFunc(arg) { … }'
        'begin': '\\b((?!(?:break|case|catch|continue|do|else|finally|for|function|if|export|import|package|return|switch|throw|try|while|with)[\\s\\(])(?:[a-zA-Z_$][a-zA-Z_$0-9]*))\\s*(\\()(?=(?:[^\\(\\)]*)?\\)\\s*\\{)'
        'beginCaptures':
          '1':
            'name': 'entity.name.function.js'
          '2':
            'name': 'punctuation.definition.parameters.begin.js'
        'end': '(\\))'
        'endCaptures':
          '1':
            'name': 'punctuation.definition.parameters.end.js'
        'patterns': [
          {
            'include': '#function-params'
          }
          {
            'include': '#strings'
          }
        ]
      }
    ]
  'function-params':
    'patterns': [
      {
        'include': '#numbers'
      }
      {
        'include': '#strings'
      }
      {
        'match': '\\(|\\)'
        'name': 'meta.brace.round.js'
      }
      {
        'match': '\\[|\\]'
        'name': 'meta.brace.square.js'
      }
      {
        'match': '{|}'
        'name': 'meta.brace.curly.js'
      }
      {
        'match': ','
        'name': 'meta.object.delimiter.js'
      }
      {
        'match': '='
        'name': 'keyword.operator.assignment.js'
      }
      {
        'include': '#comments'
      }
      {
        'match': '[a-zA-Z_$][a-zA-Z_$0-9]*'
        'name': 'variable.parameter.function.js'
      }
    ]
  'arguments':
    'patterns': [
      {
        'include': '$self'
      }
    ]
  'method_call':
    'patterns': [
      {
        'comment': '.methodCall(arg1, "arg2", [...])'
        'begin': '(\\.)([a-zA-Z_$][\\w$]*)\\s*(\\()'
        'beginCaptures':
          '1':
            'name': 'meta.delimiter.method.period.js'
          '2':
            'name': 'entity.name.function.js'
          '3':
            'name': 'punctuation.definition.arguments.begin.js'
        'end': '\\)'
        'endCaptures':
          '0':
            'name': 'punctuation.definition.arguments.end.js'
        'name': 'meta.method-call.js'
        'patterns': [
          {
            'include': '#arguments'
          }
        ]
      }
    ]
  'function_call':
    'patterns': [
      {
        'comment': 'functionCall(arg1, "arg2", [...])'
        'begin': '(?:(\\d\\w*)|([a-zA-Z_$][\\w$]*))\\s*(\\()'
        'beginCaptures':
          '1':
            'name': 'invalid.illegal.identifier.js'
          '2':
            'name': 'entity.name.function.js'
          '3':
            'name': 'punctuation.definition.arguments.begin.js'
        'end': '\\)'
        'endCaptures':
          '0':
            'name': 'punctuation.definition.arguments.end.js'
        'name': 'meta.function-call.js'
        'patterns': [
          {
            'include': '#arguments'
          }
        ]
      }
    ]
  'object_variable':
    'patterns': [
      {
        'comment': '`obj` in `obj.prop`, `obj.methodCall()`'
        'match': '(?:([a-zA-Z_$][\\w$]*)|(\\d\\w*))(?=\\s*\\.\\s*[a-zA-Z_$]\\w*)'
        'captures':
          '1':
            'name': 'variable.other.object.js'
          '2':
            'name': 'invalid.illegal.identifier.js'
      }
    ]
  'properties':
    'patterns': [
      {
        'comment': '`prop` in `obj.prop`, `func().prop`'
        'match': '(\\.)\\s*(?:([0-9]+[\\w$]*)|([A-Z][A-Z0-9_$]*\\b\\$*)|(\\$*[a-zA-Z_$][\\w$]*))'
        'captures':
          '1':
            'name': 'meta.delimiter.property.period.js'
          '2':
            'name': 'invalid.illegal.identifier.js'
          '3':
            'name': 'constant.other.property.js'
          '4':
            'name': 'variable.other.property.js'
      }
    ]
  'interpolated_js':
    'patterns': [
      {
        'begin': '\\$\\{'
        'captures':
          '0':
            'name': 'punctuation.section.embedded.js'
        'end': '\\}'
        'name': 'source.js.embedded.source'
        'patterns': [
          {
            'begin': '{'
            'beginCaptures':
              '0':
                'name': 'meta.brace.curly.js'
            'end': '}'
            'endCaptures':
              '0':
                'name': 'meta.brace.curly.js'
            'patterns': [
              {
                'include': '$self'
              }
            ]
          }
          {
            'include': '$self'
          }
        ]
      }
    ]
  'docblock':
    'patterns': [
      {
        'match': '(?<!\\w)@(abstract|access|alias|augments|author|async|attribute|arg|argument|beta|borrows|bubbes|callback|class|classdesc|config|const|constant|constructs|constructor|copyright|chainable|default|defaultvalue|deprecated|desc|description|enum|emits|event|example|exports|external|extends|extension|extensionfor|extension_for|for|file|fileoverview|fires|final|function|global|host|ignore|implements|inheritdoc|inner|instance|interface|kind|lends|license|listens|main|member|memberof|method|mixex|mixin(?:s|)|module|name|namespace|override|overview|param|private|prop|property|protected|readonly|readOnly|requires|required|return|returns|see|since|static|summary|submodule|this|throws|todo|tutorial|type|typedef|var|variation|version|virtual|uses|writeOnce)\\b'
        'name': 'storage.type.class.jsdoc'
      }
    ]
  'comments':
    'patterns': [
      {
        'begin': '/\\*\\*(?!/)'
        'captures':
          '0':
            'name': 'punctuation.definition.comment.js'
        'patterns': [
          {
            'include': '#docblock'
          }
        ]
        'end': '\\*/'
        'name': 'comment.block.documentation.js'
      }
      {
        'begin': '/\\*'
        'captures':
          '0':
            'name': 'punctuation.definition.comment.js'
        'end': '\\*/'
        'name': 'comment.block.js'
      }
      {
        'begin': '(^[ \\t]+)?(?=//)'
        'beginCaptures':
          '1':
            'name': 'punctuation.whitespace.comment.leading.js'
        'end': '(?!\\G)'
        'patterns': [
          {
            'begin': '//'
            'beginCaptures':
              '0':
                'name': 'punctuation.definition.comment.js'
            'end': '\\n'
            'name': 'comment.line.double-slash.js'
          }
        ]
      }
    ]
